\chapter{Development}\index{Development}

For development purposes you can start WendzelNNTPd on your host system. If you are using an unsupported operating system or just not run WenzdelNNTPd on your host system, you can use the provided Dockerfiles to run WendzelNNTPd in a Docker container.

\subsection{Initial setup}
When you are on a UNIX-based system (like macOS) you can use the provided make commands:
\begin{verbatim}
$ make docker-build
$ make docker-run
\end{verbatim}
To stop the Docker container you can use the following command:
\begin{verbatim}
$ make docker-stop
\end{verbatim}
If you are not on a UNIX-based system (like Windows) use the following native docker commands:
\begin{verbatim}
$ docker build -f ./docker/Dockerfile -t wendzelnntpd:latest .
$ docker run --name wendzelnntpd --rm -it -p 118:118 -p 119:119 -p 563:563 -p 564:564 -v ${PWD}:/wendzelnntpd -v wendzelnntpd_data:/var/spool/news/wendzelnntpd wendzelnntpd:latest
\end{verbatim}
To stop the Docker container you can use the following command:
\begin{verbatim}
$ docker stop wendzelnntpd
\end{verbatim}

\subsection{Test new code}
The container is build without code included. The code is automatically mounted as volume into the container. After each change of source code, the application is compiled again.

\subsection{Edit configure or Makefile}
This project uses \texttt{autoconf} to generate the \textit{configure} script from \textit{configure.ac}. The files
\textit{configure}, \textit{aclocal.m4}, \textit{config.guess}, \textit{config.sub} and \textit{install-sh} are
autogenerated. Do not edit them directly, but regenerate them with \texttt{autoreconf -fi} after editing
\textit{configure.ac} or a makro in the \textit{m4} directory.

The \textit{Makefile} is generated by the \textit{configure} script from the \textit{Makefile.in}.
