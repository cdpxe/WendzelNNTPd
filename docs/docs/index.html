<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2023 (Released January 1, 2023) -->
<HTML lang="en">
<HEAD>
<TITLE>WendzelNNTPd Version 2.2 Documentation</TITLE>

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2023">

<LINK REL="STYLESHEET" HREF="docs.css">

</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<IMG WIDTH="81" HEIGHT="24" ALT="next_inactive" SRC="nx_grp_g.png"> 
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev_g.png">   
<BR>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<P>
<H1 class="CENTER">WendzelNNTPd Version 2.2 Documentation</H1>
<DIV CLASS="author_info">

<STRONG>Steffen Wendzel and contributors</STRONG>
</DIV><P>

<BR>

<H2><A ID="SECTION001000000000000000000">
Contents</A>
</H2>
<!--Table of Contents-->

<UL CLASS="TofC">
<LI><A ID="tex2html76"
  HREF="docs.html#SECTION002000000000000000000"><SPAN CLASS="arabic">1</SPAN> Introduction</A>
<UL>
<LI><A ID="tex2html77"
  HREF="docs.html#SECTION002100000000000000000"><SPAN CLASS="arabic">1</SPAN> Features</A>
<UL>
<LI><A ID="tex2html78"
  HREF="docs.html#SECTION002110000000000000000"><SPAN CLASS="arabic">1</SPAN> License</A>
<LI><A ID="tex2html79"
  HREF="docs.html#SECTION002120000000000000000"><SPAN CLASS="arabic">2</SPAN> Database Abstraction Layer</A>
<LI><A ID="tex2html80"
  HREF="docs.html#SECTION002130000000000000000"><SPAN CLASS="arabic">3</SPAN> Security</A>
<LI><A ID="tex2html81"
  HREF="docs.html#SECTION002140000000000000000"><SPAN CLASS="arabic">4</SPAN> Auto-prevention of double-postings</A>
<LI><A ID="tex2html82"
  HREF="docs.html#SECTION002150000000000000000"><SPAN CLASS="arabic">5</SPAN> IPv6</A>
<LI><A ID="tex2html83"
  HREF="docs.html#SECTION002160000000000000000"><SPAN CLASS="arabic">6</SPAN> Why this is not a perfect Usenet server</A>
</UL>
<LI><A ID="tex2html84"
  HREF="docs.html#SECTION002200000000000000000"><SPAN CLASS="arabic">2</SPAN> Contribute</A>
<LI><A ID="tex2html85"
  HREF="docs.html#SECTION002300000000000000000"><SPAN CLASS="arabic">3</SPAN> History</A>
</UL>
<BR>
<LI><A ID="tex2html86"
  HREF="docs.html#SECTION003000000000000000000"><SPAN CLASS="arabic">2</SPAN> Installation</A>
<UL>
<LI><A ID="tex2html87"
  HREF="docs.html#SECTION003100000000000000000"><SPAN CLASS="arabic">1</SPAN> Linux/*nix/BSD</A>
<UL>
<LI><A ID="tex2html88"
  HREF="docs.html#SECTION003110000000000000000"><SPAN CLASS="arabic">1</SPAN> Init Script for Automatic Startup</A>
</UL>
<LI><A ID="tex2html89"
  HREF="docs.html#SECTION003200000000000000000"><SPAN CLASS="arabic">2</SPAN> Unofficial Note: Mac OS X</A>
<LI><A ID="tex2html90"
  HREF="docs.html#SECTION003300000000000000000"><SPAN CLASS="arabic">3</SPAN> Windows</A>
</UL>
<BR>
<LI><A ID="tex2html91"
  HREF="docs.html#SECTION004000000000000000000"><SPAN CLASS="arabic">3</SPAN> Basic Configuration</A>
<UL>
<LI><A ID="tex2html92"
  HREF="docs.html#SECTION004100000000000000000"><SPAN CLASS="arabic">1</SPAN> Choosing a database engine</A>
<UL>
<LI><A ID="tex2html93"
  HREF="docs.html#SECTION004110000000000000000"><SPAN CLASS="arabic">1</SPAN> Modifying wendzelnntpd.conf</A>
<LI><A ID="tex2html94"
  HREF="docs.html#SECTION004120000000000000000"><SPAN CLASS="arabic">2</SPAN> Generating your database tables</A>
</UL>
<LI><A ID="tex2html95"
  HREF="docs.html#SECTION004200000000000000000"><SPAN CLASS="arabic">2</SPAN> Network Settings</A>
<LI><A ID="tex2html96"
  HREF="docs.html#SECTION004300000000000000000"><SPAN CLASS="arabic">3</SPAN> Setting the Allowed Size of Postings</A>
<LI><A ID="tex2html97"
  HREF="docs.html#SECTION004400000000000000000"><SPAN CLASS="arabic">4</SPAN> Verbose Mode</A>
<LI><A ID="tex2html98"
  HREF="docs.html#SECTION004500000000000000000"><SPAN CLASS="arabic">5</SPAN> Security Settings</A>
<UL>
<LI><A ID="tex2html99"
  HREF="docs.html#SECTION004510000000000000000"><SPAN CLASS="arabic">1</SPAN> Authentication and Access Control Lists (ACL)</A>
<LI><A ID="tex2html100"
  HREF="docs.html#SECTION004520000000000000000"><SPAN CLASS="arabic">2</SPAN> Anonymized Message-ID</A>
<LI><A ID="tex2html101"
  HREF="docs.html#SECTION004530000000000000000"><SPAN CLASS="arabic">3</SPAN> Changing the Default Salt for Password Hashing</A>
<LI><A ID="tex2html102"
  HREF="docs.html#SECTION004540000000000000000"><SPAN CLASS="arabic">4</SPAN> Encrypted communication (TLS)</A>
</UL>
</UL>
<BR>
<LI><A ID="tex2html103"
  HREF="docs.html#SECTION005000000000000000000"><SPAN CLASS="arabic">4</SPAN> Starting and Running WendzelNNTPd</A>
<UL>
<LI><A ID="tex2html104"
  HREF="docs.html#SECTION005100000000000000000"><SPAN CLASS="arabic">1</SPAN> Starting the Service</A>
<LI><A ID="tex2html105"
  HREF="docs.html#SECTION005200000000000000000"><SPAN CLASS="arabic">2</SPAN> Stopping and Restarting the Service</A>
<UL>
<LI><A ID="tex2html106"
  HREF="docs.html#SECTION005210000000000000000"><SPAN CLASS="arabic">1</SPAN> Automating Start, Stop, and Restart</A>
</UL>
<LI><A ID="tex2html107"
  HREF="docs.html#SECTION005300000000000000000"><SPAN CLASS="arabic">3</SPAN> Administration Tool `wendzelnntpadm'</A>
<LI><A ID="tex2html108"
  HREF="docs.html#SECTION005400000000000000000"><SPAN CLASS="arabic">4</SPAN> Creating/Listing/Deleting Newsgroups</A>
<UL>
<LI><A ID="tex2html109"
  HREF="docs.html#SECTION005410000000000000000"><SPAN CLASS="arabic">1</SPAN> Listing existing newsgroups</A>
<LI><A ID="tex2html110"
  HREF="docs.html#SECTION005420000000000000000"><SPAN CLASS="arabic">2</SPAN> Creating a new newsgroup</A>
<LI><A ID="tex2html111"
  HREF="docs.html#SECTION005430000000000000000"><SPAN CLASS="arabic">3</SPAN> Deleting a newsgroup</A>
</UL>
<LI><A ID="tex2html112"
  HREF="docs.html#SECTION005500000000000000000"><SPAN CLASS="arabic">5</SPAN> User Accounts Administration</A>
<UL>
<LI><A ID="tex2html113"
  HREF="docs.html#SECTION005510000000000000000"><SPAN CLASS="arabic">1</SPAN> Listing Users (and Passwords)</A>
<LI><A ID="tex2html114"
  HREF="docs.html#SECTION005520000000000000000"><SPAN CLASS="arabic">2</SPAN> Creating a new user</A>
<LI><A ID="tex2html115"
  HREF="docs.html#SECTION005530000000000000000"><SPAN CLASS="arabic">3</SPAN> Deleting an existing user</A>
</UL>
<LI><A ID="tex2html116"
  HREF="docs.html#SECTION005600000000000000000"><SPAN CLASS="arabic">6</SPAN> Access Control List Administration (in case the standard NNTP authentication is not enough)</A>
<UL>
<LI><A ID="tex2html117"
  HREF="docs.html#SECTION005610000000000000000"><SPAN CLASS="arabic">1</SPAN> Invisible Newsgroups</A>
<LI><A ID="tex2html118"
  HREF="docs.html#SECTION005620000000000000000"><SPAN CLASS="arabic">2</SPAN> Simple Access Control</A>
<LI><A ID="tex2html119"
  HREF="docs.html#SECTION005630000000000000000"><SPAN CLASS="arabic">3</SPAN> Adding and Removing ACL Roles</A>
<LI><A ID="tex2html120"
  HREF="docs.html#SECTION005640000000000000000"><SPAN CLASS="arabic">4</SPAN> Connecting and Disconnecting Users with/from Roles</A>
<LI><A ID="tex2html121"
  HREF="docs.html#SECTION005650000000000000000"><SPAN CLASS="arabic">5</SPAN> Connecting and Disconnecting Roles with/from Newsgroups</A>
<LI><A ID="tex2html122"
  HREF="docs.html#SECTION005660000000000000000"><SPAN CLASS="arabic">6</SPAN> Listing Your Whole ACL Configuration Again</A>
</UL>
<LI><A ID="tex2html123"
  HREF="docs.html#SECTION005700000000000000000"><SPAN CLASS="arabic">7</SPAN> Hardening</A>
</UL>
<BR>
<LI><A ID="tex2html124"
  HREF="docs.html#SECTION006000000000000000000"><SPAN CLASS="arabic">5</SPAN> Development</A>
<UL>
<LI><A ID="tex2html125"
  HREF="docs.html#SECTION006010000000000000000"><SPAN CLASS="arabic">1</SPAN> Initial setup</A>
<LI><A ID="tex2html126"
  HREF="docs.html#SECTION006020000000000000000"><SPAN CLASS="arabic">2</SPAN> Test new code</A>
</UL>
<BR>
<LI><A ID="tex2html127"
  HREF="docs.html#SECTION007000000000000000000"><SPAN CLASS="arabic">6</SPAN> Upgrading</A>
<UL>
<LI><A ID="tex2html128"
  HREF="docs.html#SECTION007100000000000000000"><SPAN CLASS="arabic">1</SPAN> Upgrade fom version 2.1.y to 2.2.x</A>
<LI><A ID="tex2html129"
  HREF="docs.html#SECTION007200000000000000000"><SPAN CLASS="arabic">2</SPAN> Upgrade from version 2.1.x to 2.1.y</A>
<LI><A ID="tex2html130"
  HREF="docs.html#SECTION007300000000000000000"><SPAN CLASS="arabic">3</SPAN> Upgrade from version 2.0.x to 2.1.y</A>
<LI><A ID="tex2html131"
  HREF="docs.html#SECTION007400000000000000000"><SPAN CLASS="arabic">4</SPAN> Upgrade from version 2.0.x to 2.0.y</A>
<LI><A ID="tex2html132"
  HREF="docs.html#SECTION007500000000000000000"><SPAN CLASS="arabic">5</SPAN> Upgrade from version 1.4.x to 2.0.x</A>
</UL>
<BR>
<LI><A ID="tex2html133"
  HREF="docs.html#SECTION008000000000000000000">Index</A>
</UL>
<!--End of Table of Contents--><P>

<H1><A ID="SECTION002000000000000000000"></A><A ID="42"></A>
<BR>
<SPAN CLASS="arabic">1</SPAN> Introduction
</H1>

<P>
WendzelNNTPd is a tiny but easy to use Usenet server (NNTP server) for Linux, *nix and BSD. The server is written in C. For security reasons, it is compiled with stack smashing protection by default, if your compiler supports that feature.

<P>

<H1><A ID="SECTION002100000000000000000">
<SPAN CLASS="arabic">1</SPAN> Features</A>
</H1>

<P>

<H2><A ID="SECTION002110000000000000000">
<SPAN CLASS="arabic">1</SPAN> License</A>
</H2>

<P>
WendzelNNTPd uses the GPLv3 license.

<P>

<H2><A ID="SECTION002120000000000000000">
<SPAN CLASS="arabic">2</SPAN> Database Abstraction Layer</A>
</H2>

<P>
The server contains a database abstraction layer. Currently supported database systems are SQlite3 and MySQL (and experimental PostgreSQL support). New databases can be easily added.

<P>

<H2><A ID="SECTION002130000000000000000">
<SPAN CLASS="arabic">3</SPAN> Security</A>
</H2>

<P>
WendzelNNTPd contains different security features, the most important features are probably Access Control Lists (ACLs) and the Role Based Access Control (RBAC) system. ACL and RBAC are described in a own chapter. WendzelNNTPd was probably the first Usenet server with support for RBAC.

<P>
Another feature that was introduced by WendzelNNTPd (and later adopted by other servers) are so-called &ldquo;invisible newsgroups&rdquo;: If access control is activated, a user without permission to access the newsgroup will not be able to see the existence of the newsgroup. In case the user knows about the existence of the newsgroup nevertheless, he will not be able to post to or read from the newsgroup.

<P>
However, <SPAN  CLASS="textbf">please note</SPAN> that the salting for password hashing is using SHA-256, but with a global user-definable salt that is concatenated with the username and password, rendering it less secure than using unique random hashes per password. 
WendzelNNTPd does support TLS v1.0 to v1.3 including STARTTLS!

<P>

<H2><A ID="SECTION002140000000000000000">
<SPAN CLASS="arabic">4</SPAN> Auto-prevention of double-postings</A>
</H2>

<P>
In case a user sends a posting that lists the same newsgroup multiple times within one post command's &ldquo;Newsgroups:&rdquo; header tag, the server will add it only once to that newsgroup to save memory on the server and the time of the readers.

<P>

<H2><A ID="SECTION002150000000000000000">
<SPAN CLASS="arabic">5</SPAN> IPv6</A>
</H2>

<P>
WendzelNNTPd supports IPv6. The server can listen on multiple IP addresses as well as multiple ports.

<P>

<H2><A ID="SECTION002160000000000000000">
<SPAN CLASS="arabic">6</SPAN> Why this is not a perfect Usenet server</A>
</H2>

<P>
WendzelNNTPd does not implement all NNTP commands, but the (most) important ones. Another problem is that the regular expression library used is not 100% compatible with the NNTP matching in commands like &ldquo;XGTITLE&rdquo;. Another limitation is that WendzelNNTPd cannot share messages with other NNTP servers. 

<P>

<H1><A ID="SECTION002200000000000000000">
<SPAN CLASS="arabic">2</SPAN> Contribute</A>
</H1>

<P>
See the <SPAN  CLASS="textit">CONTRIBUTE</SPAN> file in the tarball.

<P>

<H1><A ID="SECTION002300000000000000000">
<SPAN CLASS="arabic">3</SPAN> History</A>
</H1>

<P>
The project started in 2004 under the name Xyria:cdpNNTPd, as part of the Xyria project that also contained a fast DNS server, called Xyria:DNSd. In 2007, I renamed it to WendzelNNTPd and stopped development of Xyria:DNSd. Version 1.0.0 was released in 2007, version 2.0.0 in 2011. Since then I have primarily fixed reported bugs and added minor features but the software is still maintained and smaller advancements can still be expected. A detailed history can be found in the <SPAN  CLASS="textit">HISTORY</SPAN> file in the tarball. Fortunately, several people contributed to the code and documentation, see <SPAN  CLASS="textit">AUTHORS</SPAN> file.

<H1><A ID="SECTION003000000000000000000"></A><A ID="97"></A>
<BR>
<SPAN CLASS="arabic">2</SPAN> Installation
</H1>

<P>
This chapter provides a guide on how to install WendzelNNTPd 2.x.

<P>

<H1><A ID="SECTION003100000000000000000">
<SPAN CLASS="arabic">1</SPAN> Linux/*nix/BSD</A>
</H1>

<P>
To install WendzelNNTPd from source you need to download the provided archive file (e.g., <SPAN  CLASS="textit">wendzelnntpd-2.0.0.tar.gz</SPAN>) file.<A ID="tex2html1"
  HREF="footnode.html#foot147"><SUP><IMG  ALT="[*]" SRC="footnote.png"></SUP></A> Extract it and run <SPAN  CLASS="textbf">./configure</SPAN>. Please note that configure indicates missing libraries and packages that you may first need to install using the package system of your operating system.

<P>
<PRE>
$ tar -xzf wendzelnntpd-2.0.0.tgz
$ cd wendzelnntpd
$ ./configure
...
</PRE>

<P>
<SPAN  CLASS="textbf">Please Note:</SPAN> <SPAN  CLASS="textit">If you wish to compile WITHOUT MySQL or WITHOUT SQlite support</SPAN>, then run <SPAN  CLASS="textbf">MYSQL=NO ./configure</SPAN> or <SPAN  CLASS="textbf">SQLITE=NO ./configure</SPAN>, respectively.

<P>
&nbsp;

<P>
<SPAN  CLASS="textbf">Please Note:</SPAN> <SPAN  CLASS="textit">For FreeBSD/OpenBSD/NetBSD/*BSD: There is no MySQL support; you need to use SQLite (i.e., run <SPAN  CLASS="texttt">MYSQL=NO ./configure</SPAN>). Run <SPAN  CLASS="texttt">configure</SPAN> as well as <SPAN  CLASS="texttt">make</SPAN> in the <SPAN  CLASS="texttt">bash</SPAN> shell (under some BSDs you first need to install <SPAN  CLASS="texttt">bash</SPAN>).</SPAN>

<P>
&nbsp;

<P>
<SPAN  CLASS="textbf">Please Note:</SPAN> <SPAN  CLASS="textit">If you wish to compile WITHOUT TLS support</SPAN>, then run <SPAN  CLASS="textbf">TLS=NO ./configure</SPAN>.

<P>
&nbsp;

<P>
After <SPAN  CLASS="texttt">configure</SPAN> has finished, run <SPAN  CLASS="textbf">make</SPAN>:

<P>
<PRE>
$ make
...
</PRE>

<P>

<H4><A ID="SECTION003100100000000000000">
Generating SSL certifiates</A>
</H4>
If you want to generate SSL certificates you can use the helper script:
<PRE>
$ sudo ./create_certificate \
	--environment letsencrypt \
	--email &lt;YOUR-EMAIL&gt; \\
	--domain &lt;YOUR-DOMAIN&gt;
</PRE>
For the parameter <SPAN  CLASS="texttt">--environment</SPAN>, &ldquo;<SPAN  CLASS="textit">local</SPAN>&rdquo; is also a valid value. In that case, the certificate is generated only for usage on localhost and is self-signed. After generating the certificate you have to adjust <SPAN  CLASS="textit">wendzelnntpd.conf</SPAN> (check Section&nbsp;<A HREF="#network-settings">3.2</A>) to activate TLS (configuration option <SPAN  CLASS="textit">enable-tls</SPAN>)). The paths for certificate and server key can stay as they are. 

<P>
&nbsp;

<P>

<H4><A ID="SECTION003100200000000000000">
Installing WendzelNNTPd</A>
</H4>
To install WendzelNNTPd on your system, you need superuser access. Run <SPAN  CLASS="textbf">make install</SPAN> to install it to the default location <SPAN  CLASS="textit">/usr/local/*</SPAN>.

<P>
<PRE>
$ sudo make install
</PRE>

<P>
<SPAN  CLASS="textbf">Please Note (Upgrades):</SPAN> Run <SPAN  CLASS="textbf">sudo make upgrade</SPAN> instead of <SPAN  CLASS="textbf">sudo make install</SPAN> for an upgrade. Please cf. Section&nbsp;<A HREF="#Ch:Upgrade">6</A> (Upgrading).

<P>
<SPAN  CLASS="textbf">Please Note (MySQL):</SPAN> <SPAN  CLASS="textit">If you plan to run MySQL</SPAN>, then no database was set up during 'make install'. Please refer to Section&nbsp;<A HREF="#Ch:Config">3</A> (Basic Configuration) to learn how to generate the MySQL database.

<P>

<H2><A ID="SECTION003110000000000000000">
<SPAN CLASS="arabic">1</SPAN> Init Script for Automatic Startup</A>
</H2>

<P>
There is an init script in the directory scripts/startup. It uses the usual parameters like &ldquo;start&rdquo;, &ldquo;stop&rdquo; and &ldquo;restart&rdquo;.

<P>

<H1><A ID="SECTION003200000000000000000">
<SPAN CLASS="arabic">2</SPAN> Unofficial Note: Mac OS X</A>
</H1>

<P>
A user reported WendzelNNTPd-2.0.0 is installable under Mac OS X 10.5.8. The only necessary change was to add the flag &ldquo;<SPAN  CLASS="texttt">-arch x86_64</SPAN>&rdquo; to compile the code on a 64 bit system. However, I never tried to compile WendzelNNTPd on a Mac.

<P>

<H1><A ID="SECTION003300000000000000000">
<SPAN CLASS="arabic">3</SPAN> Windows</A>
</H1>

<P>
Not supported.

<P>

<H1><A ID="SECTION004000000000000000000"></A><A ID="203"></A><A ID="Ch:Config"></A>
<BR>
<SPAN CLASS="arabic">3</SPAN> Basic Configuration
</H1>

<P>
This chapter will explain how to configure WendzelNNTPd after installation.

<P>
<SPAN  CLASS="textbf">Note:</SPAN> The configuration file for WendzelNNTPd is named <SPAN  CLASS="textit">/usr/local/etc/wendzelnntpd.conf</SPAN>. The format of the configuration file should be self-explanatory and the default configuration file includes many comments which will help you to understand its content.

<P>
<SPAN  CLASS="textbf">Note:</SPAN> On *nix-like operating systems the default installation path is <SPAN  CLASS="textit">/usr/local/*</SPAN>, i.e., the configuration file of WendzelNNTPd will be <SPAN  CLASS="textit">/usr/local/etc/wendzelnntpd.conf</SPAN>, and the binaries will be placed in <SPAN  CLASS="textit">/usr/local/sbin</SPAN>. 
<P>

<H1><A ID="SECTION004100000000000000000">
<SPAN CLASS="arabic">1</SPAN> Choosing a database engine</A>
</H1>

<P>
The first and most important step is to choose a database engine. You can use either SQLite3 (this is the default case and easy to use, but not suitable for larger systems with many thousand postings or users) or MySQL (which is the more advaned solution, but also a little bit more complicated to realize). By default, WendzelNNTPd is configured for SQLite3 and is ready to run. If you want to keep this setting, you do not have to read this section.

<P>

<H2><A ID="SECTION004110000000000000000">
<SPAN CLASS="arabic">1</SPAN> Modifying wendzelnntpd.conf</A>
</H2>

<P>
In the configuration file you will find a parameter called <SPAN  CLASS="textbf">database-engine</SPAN>. You can choose to use either MySQL or SQLite as the backend storage system by appending either <SPAN  CLASS="textbf">sqlite</SPAN> or <SPAN  CLASS="textbf">mysql</SPAN>. Experimental support for PostgreSQL can be activiated with <SPAN  CLASS="textbf">postgres</SPAN>.

<P>
<PRE>
database-engine mysql
</PRE>

<P>
If you choose to use MySQL then you will also need to specify the user and password which WendzelNNTPd must use to connect to the MySQL server. If your server does not run on localhost or uses a non-default MySQL port then you will have to modify these values too.

<P>
<PRE>
; Your database hostname (not needed for sqlite3)
database-server 127.0.0.1

; the database connection port (not needed for sqlite3)
; Comment out to use the default port of your database engine
database-port 3306

; Server authentication (not needed for sqlite3)
database-username mysqluser
database-password supercoolpass
</PRE>

<P>

<H2><A ID="SECTION004120000000000000000">
<SPAN CLASS="arabic">2</SPAN> Generating your database tables</A>
</H2>

<P>
Once you have chosen your database backend you will need to create the database and the required tables.

<P>

<H3><A ID="SECTION004121000000000000000">
<SPAN CLASS="arabic">1</SPAN> SQLite</A>
</H3>

<P>
If you chose SQLite as your database backend then you can skip this step as running <SPAN  CLASS="textbf">make install</SPAN> does this for you.

<P>
<SPAN  CLASS="textbf">Note:</SPAN> The SQLite database file as well as the posting management files will be stored in <SPAN  CLASS="textit">/var/spool/news/wendzelnntpd/</SPAN>.

<P>

<H3><A ID="SECTION004122000000000000000">
<SPAN CLASS="arabic">2</SPAN> MySQL</A>
</H3>

<P>
For MySQL, an SQL script file called <SPAN  CLASS="textit">mysql_db_struct.sql</SPAN> is included. It creates the WendzelNNTPd database and all the needed tables. Use the MySQL console tool to execute the script.

<P>
<PRE>
$ cd /path/to/your/extracted/wendzelnntpd-archive/
$ mysql -u YOUR-USER -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 48
Server version: 5.1.37-1ubuntu5.1 (Ubuntu)

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; source mysql\_db\_struct.sql
...
mysql&gt; quit
Bye
</PRE>

<P>

<H3><A ID="SECTION004123000000000000000">
<SPAN CLASS="arabic">3</SPAN> PostgreSQL</A>
</H3>
Similarly to MySQL, there is a SQL script file (<SPAN  CLASS="textit">postgres_db_struct.sql</SPAN>) to create the WendzelNNTPd database. Create and setup a new database (and an corresponding user) and use the <SPAN  CLASS="texttt">psql(1)</SPAN> command line client to load table and function definitions:

<P>
<PRE>
$ psql --username USER -W wendzelnntpd
wendzelnntpd=&gt; begin;
wendzelnntpd=&gt; \i database/postgres_db_struct.sql
wendzelnntpd=&gt; commit; quit;
</PRE>

<P>

<H1><A ID="SECTION004200000000000000000"></A><A ID="network-settings"></A>
<BR>
<SPAN CLASS="arabic">2</SPAN> Network Settings
</H1>

<P>
For each type of IP address (IPv4 and/or IPv6) you have to define a own connector. You can find an example for NNTP over port 119 below.

<P>
<PRE>
&lt;connector&gt;
	;; enables STARTTLS for this port
	;enable-starttls
	port		119
	listen	    127.0.0.1
	;; configure SSL server certificate (required)
	;tls-server-certificate "/usr/local/etc/ssl/server.crt"
	;; configure SSL private key (required)
	;tls-server-key "/usr/local/etc/ssl/server.key"
	;; configure SSL CA certificate (required)
	;tls-ca-certificate "/usr/local/etc/ssl/ca.crt"
	;; configure TLS ciphers for TLSv1.3
	;tls-cipher-suites "TLS_AES_128_GCM_SHA256"
	;; configure TLS ciphers for TLSv1.1 and TLSv1.2
	;tls-ciphers "ALL:!COMPLEMENTOFDEFAULT:!eNULL"
	;; configure allowed TLS version (1.0-1.3)
	;tls-version "1.2-1.3"
	;; possibility to force the client to authenticate 
	;;with client certificate (none | optional | require)
	;tls-verify-client "required"
	;; define depth for checking client certificate
	;tls-verify-client-depth 0
	;; possibility to use certificate revocation list (none | leaf | chain)
	;tls-crl "none"
	;tls-crl-file "/usr/local/etc/ssl/ssl.crl"
&lt;/connector&gt;
</PRE>

<P>
To use dedicated TLS with NNTP (SNNTP) you can define another connector. The example below is for SNNTP over port 563.

<P>
<PRE>
&lt;connector&gt;
	;; enables TLS for this port
	;enable-tls
	port		563
	listen	    127.0.0.1
	;; configure SSL server certificate (required)
	;tls-server-certificate "/usr/local/etc/ssl/server.crt"
	;; configure SSL private key (required)
	;tls-server-key "/usr/local/etc/ssl/server.key"
	;; configure SSL CA certificate (required)
	;tls-ca-certificate "/usr/local/etc/ssl/ca.crt"
	;; configure TLS ciphers for TLSv1.3
	;tls-cipher-suites "TLS_AES_128_GCM_SHA256"
	;; configure TLS ciphers for TLSv1.1 and TLSv1.2
	;tls-ciphers "ALL:!COMPLEMENTOFDEFAULT:!eNULL"
	;; configure allowed TLS version (1.0-1.3)
	;tls-version "1.2-1.3"
	;; possibility to force the client to authenticate 
	;;with client certificate (none | optional | require)
	;tls-verify-client "required"
	;; define depth for checking client certificate
	;tls-verify-client-depth 0
	;; possibility to use certificate revocation list (none | leaf | chain)
	;tls-crl "none"
	;tls-crl-file "/usr/local/etc/ssl/ssl.crl"
&lt;/connector&gt;
</PRE>

<P>
The configuration options <SPAN  CLASS="textit">tls-server-certificate</SPAN>, <SPAN  CLASS="textit">tls-server-key</SPAN> and <SPAN  CLASS="textit">tls-ca-certificate</SPAN> are required for using TLS or STARTTLS with NNTP. All other TLS-related options are optional. More examples are in the existing <SPAN  CLASS="textit">wendzelnntpd.conf</SPAN> file.

<H1><A ID="SECTION004300000000000000000">
<SPAN CLASS="arabic">3</SPAN> Setting the Allowed Size of Postings</A>
</H1>

<P>
To change the maximum size of a post to be accepted by the server, change the variable <SPAN  CLASS="textbf">max-size-of-postings</SPAN>. The value must be set in Bytes and the default value is 20971520 (20 MBytes).

<P>
<PRE>
max-size-of-postings 20971520
</PRE>

<P>

<H1><A ID="SECTION004400000000000000000">
<SPAN CLASS="arabic">4</SPAN> Verbose Mode</A>
</H1>

<P>
If you have any problems running WendzelNNTPd or if you simply want more information about what is happening, you can uncomment the <SPAN  CLASS="textbf">verbose-mode</SPAN> line.

<P>
<PRE>
; Uncomment 'verbose-mode' if you want to find errors or if you
; have problems with the logging subsystem. All log strings are
; written to stderr too, if verbose-mode is set. Additionally all
; commands sent by clients are written to stderr too (but not to
; logfile)
verbose-mode
</PRE>

<P>

<H1><A ID="SECTION004500000000000000000">
<SPAN CLASS="arabic">5</SPAN> Security Settings</A>
</H1>

<P>

<H2><A ID="SECTION004510000000000000000">
<SPAN CLASS="arabic">1</SPAN> Authentication and Access Control Lists (ACL)</A>
</H2>

<P>
WendzelNNTPd contains an extensive access control subsystem. If you want to only allow authenticated users to access the server, you should uncomment <SPAN  CLASS="textbf">use-authentication</SPAN>. This gives every authenticated user access to each newsgroup.

<P>
<PRE>
; Activate authentication
use-authentication
</PRE>

<P>
If you need a slightly more advanced authentication system, you can activate Access Control Lists (ACL) by uncommenting <SPAN  CLASS="textbf">use-acl</SPAN>. This activates the support for Role-based ACL too.

<P>
<PRE>
; If you activated authentication, you can also activate access
; control lists (ACL)
use-acl
</PRE>

<P>

<H2><A ID="SECTION004520000000000000000">
<SPAN CLASS="arabic">2</SPAN> Anonymized Message-ID</A>
</H2>

<P>
By default, WendzelNNTPd makes a user's hostname or IP address part of new message IDs when a user sends a post using the NNTP POST command. If you do not want that, you can force WendzelNNTPd not to do so by uncommenting <SPAN  CLASS="textbf">enable-anonym-mids</SPAN>, which enables anonymized message IDs.

<P>
<PRE>
; This prevents that IPs or Hostnames will become part of the
; message ID generated by WendzelNNTPd what is the default case.
; Uncomment it to enable this feature.
enable-anonym-mids
</PRE>

<P>

<H2><A ID="SECTION004530000000000000000">
<SPAN CLASS="arabic">3</SPAN> Changing the Default Salt for Password Hashing</A>
</H2>

<P>
When uncommenting the keyword <SPAN  CLASS="textbf">hash-salt</SPAN>, the default salt value that is used to enrich the password hashes can be changed. Please note that you have to define the salt <SPAN  CLASS="textit">before</SPAN> you set-up the first password since it will otherwise be stored hashed using an old salt, rendering it unusable. For this reason, it is necessary to define your salt right after running <SPAN  CLASS="textbf">make install</SPAN> (or at least before the first creation of NNTP user accounts).

<P>
<PRE>
; This keyword defines a salt to be used in conjunction with the
; passwords to calculate the cryptographic hashes. The salt must
; be in the form [a-zA-Z0-9.:\/-_]+.
; ATTENTION: If you change the salt after passwords have been
; stored, they will be rendered invalid! If you comment out
; hash-salt, then the default hash salt defined in the source
; code will be used.
hash-salt 0.hG4//3baA-::_\
</PRE>

<P>
WendzelNNTPd applies the SHA-2 hash algorithm using a 256 bit hash value. Please also note that the final hash is calculated using a string that combines salt, username and password as an input to prevent password-identification attacks when an equal password is used by multiple users. However, utilizing the username is less secure than having a completely separate salt for every password.<A ID="tex2html2"
  HREF="footnode.html#foot271"><SUP><IMG  ALT="[*]" SRC="footnote.png"></SUP></A>

<P>

<H2><A ID="SECTION004540000000000000000">
<SPAN CLASS="arabic">4</SPAN> Encrypted communication (TLS)</A>
</H2>
Please look at section <A HREF="#network-settings">3.2</A> when you want to use encryption over TLS.

<P>

<H1><A ID="SECTION005000000000000000000"></A><A ID="369"></A>
<BR>
<SPAN CLASS="arabic">4</SPAN> Starting and Running WendzelNNTPd
</H1>

<P>

<H1><A ID="SECTION005100000000000000000"></A><A ID="371"></A>
<BR>
<SPAN CLASS="arabic">1</SPAN> Starting the Service
</H1>

<P>
Once your WendzelNNTPd installation has been configured, you can run the server (in the default case you need superuser access to do that since this is required to bind WendzelNNTPd to the default NNTP port 119) by starting <SPAN  CLASS="textbf">/usr/local/sbin/wendzelnntpd</SPAN>.

<P>
<PRE>
$ /usr/local/sbin/wendzelnntpd 
WendzelNNTPd: version 2.0.7 'Berlin'  - (Oct
26 2015 14:10:20 #2544) is ready.
</PRE>

<P>
<SPAN  CLASS="textbf">Note (Daemon Mode):</SPAN> If you want to run WendzelNNTPd as a background daemon process on *nix-like operating systems, you should use the parameter <SPAN  CLASS="textbf">-d</SPAN>.

<P>

<H1><A ID="SECTION005200000000000000000"></A><A ID="378"></A><A ID="379"></A>
<BR>
<SPAN CLASS="arabic">2</SPAN> Stopping and Restarting the Service
</H1>

<P>
The server can be stopped by terminating its process:

<P>
<PRE>
$ pkill wendzelnntpd
</PRE>

<P>
The server has a handler for the termination signal that allows to safely shutdown using <SPAN  CLASS="textbf">pkill</SPAN> or <SPAN  CLASS="textbf">kill</SPAN>.

<P>
To restart the service, terminate and start the service.

<P>

<H2><A ID="SECTION005210000000000000000">
<SPAN CLASS="arabic">1</SPAN> Automating Start, Stop, and Restart</A>
</H2>

<P>
The script <SPAN  CLASS="textbf">init.d_script</SPAN> in the directory <SPAN  CLASS="textit">scripts/startup</SPAN> of the tarball can be used to start, restart, and stop WendzelNNTPd. It is a standard <SPAN  CLASS="textit">init.d</SPAN> script for Linux operating systems that can usually be copied to <SPAN  CLASS="textit">/etc/init.d</SPAN> (it must be executable).

<P>
<PRE>
$ cp scripts/startup/init.d_script /etc/init.d/wendzelnntpd
$ chmod +x /etc/init.d/wendzelnntpd
</PRE>

<P>
<SPAN  CLASS="textbf">Note:</SPAN> Please note that some operating systems use different directories than <SPAN  CLASS="textit">/etc/init.d</SPAN> or other startup script formats. In such cases, the script works nevertheless but should simply be installed to <SPAN  CLASS="textit">/usr/local/sbin</SPAN> instead.

<P>
To start, stop, and restart WendzelNNTPd, the following commands can be used afterwards:

<P>
<PRE>
$ /etc/init.d/wendzelnntpd start
Starting WendzelNNTPd ... done.
WendzelNNTPd: version 2.0.7 'Berlin'  - (Oct
26 2015 14:10:20 #2544) is ready.

$ /etc/init.d/wendzelnntpd restart
Stopping WendzelNNTPd ... done.
Starting WendzelNNTPd ... done.
WendzelNNTPd: version 2.0.7 'Berlin'  - (Oct
26 2015 14:10:20 #2544) is ready.

$ /etc/init.d/wendzelnntpd stop
Stopping WendzelNNTPd ... done.
</PRE>

<P>

<H1><A ID="SECTION005300000000000000000">
<SPAN CLASS="arabic">3</SPAN> Administration Tool `wendzelnntpadm'</A>
</H1>

<P>
Use the command line tool <SPAN  CLASS="textbf">wendzelnntpadm</SPAN> to configure users, roles and newsgroups of your WendzelNNTPd installation. To get an overview of supported commands, run &ldquo;wendzelnntpadm help&rdquo;:

<P>
<PRE>
$ wendzelnntpadm help
usage: wendzelnntpd &lt;command&gt; [parameters]
*** Newsgroup Administration:
 &lt;listgroups&gt;
 &lt;addgroup | modgroup&gt; &lt;newsgroup&gt; &lt;posting-allowed-flag (y/n)&gt;
 &lt;delgroup&gt; &lt;newsgroup&gt;
*** User Administration:
 &lt;listusers&gt;
 &lt;adduser&gt; &lt;username&gt; [&lt;password&gt;]
 &lt;deluser&gt; &lt;username&gt;
*** ACL (Access Control List) Administration:
 &lt;listacl&gt;
 &lt;addacluser | delacluser&gt; &lt;username&gt; &lt;newsgroup&gt;
 &lt;addaclrole | delaclrole&gt; &lt;role&gt;
 &lt;rolegroupconnect | rolegroupdisconnect&gt; &lt;role&gt; &lt;newsgroup&gt;
 &lt;roleuserconnect | roleuserdisconnect&gt; &lt;role&gt; &lt;username&gt;
</PRE>

<P>

<H1><A ID="SECTION005400000000000000000">
<SPAN CLASS="arabic">4</SPAN> Creating/Listing/Deleting Newsgroups</A>
</H1>

<P>
You can either list, create or delete newsgroups using <SPAN  CLASS="textbf">wendzelnntpadm</SPAN>.

<P>

<H2><A ID="SECTION005410000000000000000">
<SPAN CLASS="arabic">1</SPAN> Listing existing newsgroups</A>
</H2>

<P>
<PRE>
$ wendzelnntpadm listgroups
Newsgroup, Low-, High-Value, Posting-Flag
-----------------------------------------
alt.test 10 1 y
mgmt.talk 1 1 y
secret.project-x 20 1 y
done.
</PRE>

<P>

<H2><A ID="SECTION005420000000000000000">
<SPAN CLASS="arabic">2</SPAN> Creating a new newsgroup</A>
</H2>

<P>
To create a new newsgroup run the following command:

<P>
<PRE>
$ wendzelnntpadm addgroup my.cool.group y
Newsgroup my.cool.group does not exist. Creating new group.
done.
</PRE>

<P>
You can also change the &ldquo;posting allowed&rdquo; flag of a newsgroup:

<P>
<PRE>
$ wendzelnntpadm modgroup my.cool.group y
Newsgroup my.cool.group exists: okay.
done.
$ wendzelnntpadm modgroup my.cool.group n
Newsgroup my.cool.group exists: okay.
done.
</PRE>

<P>

<H2><A ID="SECTION005430000000000000000">
<SPAN CLASS="arabic">3</SPAN> Deleting a newsgroup</A>
</H2>

<P>
<PRE>
$ wendzelnntpadm delgroup my.cool.group
Newsgroup my.cool.group exists: okay.
Clearing association class ... done
Clearing ACL associations of newsgroup my.cool.group... done
Clearing ACL role associations of newsgroup my.cool.group... done
Deleting newsgroup my.cool.group itself ... done
Cleanup: Deleting postings that do not belong to an existing newsgroup ... done
done.
</PRE>

<P>

<H1><A ID="SECTION005500000000000000000">
<SPAN CLASS="arabic">5</SPAN> User Accounts Administration</A>
</H1>

<P>
The easiest way to give only some people access to your server is to create user accounts (please make sure you activated authentication in your configuration file). You can add, delete and list all users.

<P>

<H2><A ID="SECTION005510000000000000000">
<SPAN CLASS="arabic">1</SPAN> Listing Users (and Passwords)</A>
</H2>

<P>
This command always prints the (hashed) password of the users:

<P>
<PRE>
$ wendzelnntpadm listusers
Username, Password
------------------
developer1, wegerhgrhtrthjtzj
developer2, erghnrehhnht
manager1, wegergergrhth
manager2, thnthnrothnht
swendzel, lalalegergreg
swendzel2, 94j5z5jh5th
swendzel3, lalalalala
swendzel4, wegwegwegwegweg
done.
</PRE>

<P>

<H2><A ID="SECTION005520000000000000000">
<SPAN CLASS="arabic">2</SPAN> Creating a new user</A>
</H2>

<P>
You can either enter the password as additional parameter (useful for scripts that create users automatically) ...

<P>
<PRE>
$ wendzelnntpadm adduser UserName HisPassWord
User UserName does currently not exist: okay.
done.
</PRE>

<P>
... or you can type it using the prompt (in this case the input is shadowed):

<P>
<PRE>
$ wendzelnntpadm adduser UserName2
Enter new password for this user (max. 100 chars):
User UserName2 does currently not exist: okay.
done.
</PRE>

<P>
<SPAN  CLASS="textbf">Please Note:</SPAN> A password must include at least 8 characters and may not include more than 100 characters.

<P>

<H2><A ID="SECTION005530000000000000000">
<SPAN CLASS="arabic">3</SPAN> Deleting an existing user</A>
</H2>

<P>
<PRE>
$ wendzelnntpadm deluser UserName2
User UserName2 exists: okay.
Clearing ACL associations of user UserName2... done
Clearing ACL role associations of user UserName2... done
Deleting user UserName2 from database ... done
done.
</PRE>

<P>

<H1><A ID="SECTION005600000000000000000">
<SPAN CLASS="arabic">6</SPAN> Access Control List Administration (in case the standard NNTP authentication is not enough)</A>
</H1>

<P>
Welcome to the advanced part of WendzelNNTPd. WendzelNNTPd includes a powerful role based access control system. You can either only use normal access control lists where you can configure which user will have access to which newsgroup. Or you can use the advanced role system: You can add users to roles (e.g., the user &ldquo;boss99&rdquo; to the role &ldquo;management&rdquo;) and give a role access to a group (e.g., role &ldquo;management&rdquo; shall have access to &ldquo;discuss.management&rdquo;).

<P>
<SPAN  CLASS="textbf">Note:</SPAN> Please note that you must activate the ACL feature in your configuration file to use it.

<P>
<SPAN  CLASS="textbf">Note:</SPAN> To see <SPAN  CLASS="textit">all</SPAN> data related to the ACL subsystem of your WendzelNNTPd installation, simply use &ldquo;wendzelnntpadm listacl&rdquo;.

<P>

<H2><A ID="SECTION005610000000000000000">
<SPAN CLASS="arabic">1</SPAN> Invisible Newsgroups</A>
</H2>

<P>
WendzelNNTPd includes a feature called &ldquo;Invisible Newsgroups&rdquo; which means that a user without access to a newsgroup will neither see the newsgroup in the list of newsgroups, nor will he be able to post to such a newsgroup or will be able to read it.

<P>

<H2><A ID="SECTION005620000000000000000">
<SPAN CLASS="arabic">2</SPAN> Simple Access Control</A>
</H2>

<P>
We start with the simple access control component where you can define which user will have access to which newsgroup.

<P>

<H3><A ID="SECTION005621000000000000000">
<SPAN CLASS="arabic">1</SPAN> Giving a user access to a newsgroup</A>
</H3>

<P>
<PRE>
$ wendzelnntpadm addacluser swendzel alt.test
User swendzel exists: okay.
Newsgroup alt.test exists: okay.
done.
$ wendzelnntpadm listacl
List of roles in database:
Roles
-----

Connections between users and roles:
Role, User
----------

Username, Has access to group
-----------------------------
swendzel, alt.test

Role, Has access to group
-------------------------
done.
</PRE>

<P>

<H3><A ID="SECTION005622000000000000000">
<SPAN CLASS="arabic">2</SPAN> Removing a user's access to a newsgroup</A>
</H3>

<P>
<PRE>
$ wendzelnntpadm delacluser swendzel alt.test
User swendzel exists: okay.
Newsgroup alt.test exists: okay.
done.
</PRE>

<P>

<H2><A ID="SECTION005630000000000000000">
<SPAN CLASS="arabic">3</SPAN> Adding and Removing ACL Roles</A>
</H2>

<P>
If you have many users, some of them should have access to the same newsgroup (e.g., the developers of a new system should have access to the development newsgroup of the system). With roles you do not have to give every user explicit access to such a group. Instead you add the users to a role and give the role access to the group. (One advantage is that you can easily give the complete role access to another group with only one command instead of adding each of its users to the list of people who have access to the new group).

<P>
In the following examples, we give the users &ldquo;developer1&rdquo;, &ldquo;developer2&rdquo;, and &ldquo;developer3&rdquo; access to the development role of &ldquo;project-x&rdquo; and connect their role to the newsgroups &ldquo;project-x.discussion&rdquo; and &ldquo;project-x.support&rdquo;. To do so, we create the three users and the two newsgroups first:

<P>
<PRE>
$ wendzelnntpadm adduser developer1
Enter new password for this user (max. 100 chars):
User developer1 does currently not exist: okay.
done.
$ wendzelnntpadm adduser developer2
Enter new password for this user (max. 100 chars):
User developer2 does currently not exist: okay.
done.
$ wendzelnntpadm adduser developer3
Enter new password for this user (max. 100 chars):
User developer3 does currently not exist: okay.
done.

$ wendzelnntpadm addgroup project-x.discussion y
Newsgroup project-x.discussion does not exist. Creating new group.
done.
$ wendzelnntpadm addgroup project-x.support y
Newsgroup project-x.support does not exist. Creating new group.
done.
</PRE>

<P>

<H3><A ID="SECTION005631000000000000000">
<SPAN CLASS="arabic">1</SPAN> Creating an ACL Role</A>
</H3>

<P>
Before you can add users to a role and before you can connect a role to a newsgroup, you have to create an ACL <SPAN  CLASS="textit">role</SPAN> (you have to choose an ASCII name for it). In this example, the group is called &ldquo;project-x&rdquo;.

<P>
<PRE>
$ wendzelnntpadm addaclrole project-x
Role project-x does not exists: okay.
done.
</PRE>

<P>

<H3><A ID="SECTION005632000000000000000">
<SPAN CLASS="arabic">2</SPAN> Deleting an ACL Role</A>
</H3>

<P>
You can delete an ACL role by using &ldquo;delaclrole&rdquo; instead of &ldquo;addaclrole&rdquo; like in the example above.

<P>

<H2><A ID="SECTION005640000000000000000">
<SPAN CLASS="arabic">4</SPAN> Connecting and Disconnecting Users with/from Roles</A>
</H2>

<P>
To add (connect) or remove (disconnect) a user to/from a role, you need to use the admin tool too.

<P>

<H3><A ID="SECTION005641000000000000000">
<SPAN CLASS="arabic">1</SPAN> Connecting a User with a Role</A>
</H3>

<P>
The second parameter (&ldquo;project-x&rdquo;) is the role name and the third parameter (&ldquo;developer1&rdquo;) is the username. Here we add our three developer users from the example above to the group project-x:

<P>
<PRE>
$ wendzelnntpadm roleuserconnect project-x developer1
Role project-x exists: okay.
User developer1 exists: okay.
Connecting role project-x with user developer1 ... done
done.
$ wendzelnntpadm roleuserconnect project-x developer2
Role project-x exists: okay.
User developer2 exists: okay.
Connecting role project-x with user developer2 ... done
done.
$ wendzelnntpadm roleuserconnect project-x developer3
Role project-x exists: okay.
User developer3 exists: okay.
Connecting role project-x with user developer3 ... done
done.
</PRE>

<P>

<H3><A ID="SECTION005642000000000000000">
<SPAN CLASS="arabic">2</SPAN> Disconnecting a User from a Role</A>
</H3>

<P>
<PRE>
$ wendzelnntpadm roleuserdisconnect project-x developer1
Role project-x exists: okay.
User developer1 exists: okay.
Dis-Connecting role project-x from user developer1 ... done
done.
</PRE>

<P>

<H2><A ID="SECTION005650000000000000000">
<SPAN CLASS="arabic">5</SPAN> Connecting and Disconnecting Roles with/from Newsgroups</A>
</H2>

<P>
Even if a role is connected with a set of users, it is still useless until you connect the role with a newsgroup.

<P>

<H3><A ID="SECTION005651000000000000000">
<SPAN CLASS="arabic">1</SPAN> Connecting a Role with a Newsgroup</A>
</H3>

<P>
To connect a role with a newsgroup, we have to use the command line tool for a last time (the 2nd parameter is the role, and the 3rd parameter is the name of the newsgroup). Here we connect our &ldquo;project-x&rdquo; role to the two newsgroups &ldquo;project-x.discussion&rdquo; and &ldquo;project-x.support&rdquo;:

<P>
<PRE>
$ wendzelnntpadm rolegroupconnect project-x project-x.discussion
Role project-x exists: okay.
Newsgroup project-x.discussion exists: okay.
Connecting role project-x with newsgroup project-x.discussion ... done
done.
$ wendzelnntpadm rolegroupconnect project-x project-x.support
Role project-x exists: okay.
Newsgroup project-x.support exists: okay.
Connecting role project-x with newsgroup project-x.support ... done
done.
</PRE>

<P>

<H3><A ID="SECTION005652000000000000000">
<SPAN CLASS="arabic">2</SPAN> Disconnecting a Role From a Newsgroup</A>
</H3>

<P>
Disconnecting is done like in the example above but you have to use the command &ldquo;rolegroup<SPAN  CLASS="textbf">dis</SPAN>connect&rdquo; instead of &ldquo;rolegroupconnect&rdquo;.

<P>

<H2><A ID="SECTION005660000000000000000">
<SPAN CLASS="arabic">6</SPAN> Listing Your Whole ACL Configuration Again</A>
</H2>

<P>
Like mentioned before, you can use the command &ldquo;listacl&rdquo; to list your whole ACL configuration (except the list of users that will be listed by the command &ldquo;listusers&rdquo;).

<P>
<PRE>
$ wendzelnntpadm listacl
List of roles in database:
Roles
-----
project-x

Connections between users and roles:
Role, User
----------
project-x, developer1
project-x, developer2
project-x, developer3

Username, Has access to group
-----------------------------
swendzel, alt.test

Role, Has access to group
-------------------------
project-x, project-x.discussion
project-x, project-x.support
done.
</PRE>

<P>

<H3><A ID="SECTION005661000000000000000">
<SPAN CLASS="arabic">1</SPAN> Saving time</A>
</H3>

<P>
As mentioned above, you can safe time by using roles. For instance, if you add a new developer to the system, and the developer should have access to the two groups &ldquo;project-x.discussion&rdquo; and &ldquo;project-x.support&rdquo;, you do not have to assign the user to both (or even more) groups by hand. Instead, you just add the user to the role &ldquo;project-x&rdquo; that is already connected to both groups.

<P>
If you want to give all developers access to the group &ldquo;project-x.news&rdquo;, you also do not have to connect every developer with the project. Instead, you just connect the role with the newsgroup, what is one command instead of <SPAN CLASS="MATH"><IMG
 STYLE="height: 1.19ex; vertical-align: -0.10ex; " SRC="img1.svg"
 ALT="$n$"></SPAN> commands. Of course, this time-saving concept also works if you want to delete a user.

<P>

<H1><A ID="SECTION005700000000000000000">
<SPAN CLASS="arabic">7</SPAN> Hardening</A>
</H1>

<P>
Besides the already mentioned authentication, ACL and RBAC features, the security of the server can be improved by putting WendzelNNTPd in a <SPAN  CLASS="textit">chroot</SPAN> environment or letting it run under an unprivileged user account (the user then needs write access to <SPAN  CLASS="textit">/var/spool/news/wendzelnntpd</SPAN> and read access to (<SPAN  CLASS="textit">/usr/local)/etc/wendzelnntpd.conf</SPAN>). An unprivileged user under Unix-like systems is also not able to create a listen socket on the default NNTP port (119) since all ports up to 1023 are usually<A ID="tex2html3"
  HREF="footnode.html#foot467"><SUP><IMG  ALT="[*]" SRC="footnote.png"></SUP></A> reserved. This means that the server should use a port <SPAN CLASS="MATH"><IMG
 STYLE="height: 1.98ex; vertical-align: -0.41ex; " SRC="img2.svg"
 ALT="$\geq$"></SPAN>1024 if it is started by a non-root user.

<P>
Please also note that WendzelNNTPd can be easily identified due to its welcoming `banner' (desired code `200' message of NNTP). Tools such as <SPAN  CLASS="texttt">nmap</SPAN> provide rules to identify WendzelNNTPd and its version this way. Theoretically, this could be changed by a slight code modification (welcome message, HELP output and other components that make the server identifiable). However, I do not recommend this as it is just a form of `security by obscurity'.

<H1><A ID="SECTION006000000000000000000"></A><A ID="648"></A>
<BR>
<SPAN CLASS="arabic">5</SPAN> Development
</H1>

<P>
For development purposes you can start WendzelNNTPd on your host system. If you are using an unsupported operating system or just not run WenzdelNNTPd on your host system, you can use the provided Dockerfiles to run WendzelNNTPd in a Docker container.

<P>

<H2><A ID="SECTION006010000000000000000">
<SPAN CLASS="arabic">1</SPAN> Initial setup</A>
</H2>
When you are on a UNIX-based system (like macOS) you can use the provided make commands:
<PRE>
$ make docker-build
$ make docker-run
</PRE>
To stop the Docker container you can use the following command:
<PRE>
$ make docker-stop
</PRE>
If you are not on a UNIX-based system (like Windows) use the following native docker commands:
<PRE>
$ docker build -f ./docker/Dockerfile -t wendzelnntpd:latest .
$ docker run --name wendzelnntpd --rm -it -p 118:118 -p 119:119 -p 563:563 -p 564:564 -v ${PWD}:/wendzelnntpd -v wendzelnntpd_data:/var/spool/news/wendzelnntpd wendzelnntpd:latest
</PRE>
To stop the Docker container you can use the following command:
<PRE>
$ docker stop wendzelnntpd
</PRE>

<P>

<H2><A ID="SECTION006020000000000000000">
<SPAN CLASS="arabic">2</SPAN> Test new code</A>
</H2>
The container is build without code included. The code is automatically mounted as volume into the container. After each change of source code, the application is compiled again.

<H1><A ID="SECTION007000000000000000000"></A><A ID="666"></A><A ID="Ch:Upgrade"></A>
<BR>
<SPAN CLASS="arabic">6</SPAN> Upgrading
</H1>

<P>

<H1><A ID="SECTION007100000000000000000">
<SPAN CLASS="arabic">1</SPAN> Upgrade fom version 2.1.y to 2.2.x</A>
</H1>

<P>
Please stop WendzelNNTPd and check the <SPAN  CLASS="textit">wendzelnntpd.conf</SPAN>. There is a new configuration style that breaks parts of the previous configuration style (especially due to the introduction of &ldquo;connectors&rdquo;).

<P>
Existing user passwords will no longer work. You need to recreate all users and their passwords using <SPAN  CLASS="textbf">wendzelnntpadm</SPAN>. Additionally, you must reapply any previously configured ACL roles and group memberships for the recreated users.

<P>

<H1><A ID="SECTION007200000000000000000">
<SPAN CLASS="arabic">2</SPAN> Upgrade from version 2.1.x to 2.1.y</A>
</H1>

<P>
Same as upgrading from v.2.0.x to v.2.0.y, see Section <A HREF="#20xto20y">6.4</A>.

<P>
&nbsp;

<P>
&nbsp;

<P>

<H1><A ID="SECTION007300000000000000000">
<SPAN CLASS="arabic">3</SPAN> Upgrade from version 2.0.x to 2.1.y</A>
</H1>

<P>
Please follow the upgrade instructions for upgrading from 2.0.x to 2.0.y below. However, once you use cryptographic hashes in your <SPAN  CLASS="textit">wendzelnntpd.conf</SPAN>, your previous passwords will not work anymore, i.e., you need to reset all passwords or deactivate the hashing feature.

<P>
&nbsp;

<P>
&nbsp;

<P>

<H1><A ID="SECTION007400000000000000000"></A><A ID="20xto20y"></A>
<BR>
<SPAN CLASS="arabic">4</SPAN> Upgrade from version 2.0.x to 2.0.y
</H1>

<P>
Stop WendzelNNTPd if it is currently running. Install WendzelNNTPd as described but run <SPAN  CLASS="textbf">make upgrade</SPAN> instead of <SPAN  CLASS="textbf">make install</SPAN>. Afterwards, start WendzelNNTPd again.

<P>
&nbsp;

<P>
&nbsp;

<P>

<H1><A ID="SECTION007500000000000000000">
<SPAN CLASS="arabic">5</SPAN> Upgrade from version 1.4.x to 2.0.x</A>
</H1>

<P>
<SPAN  CLASS="textbf">Acknowledgement:</SPAN> I would like to thank Ann from Href.com for helping a lot with finding out how to upgrade from 1.4.x to 2.0.x!

<P>
&nbsp;

<P>
An upgrade from version 1.4.x was not foreseen due to the limited available time I have for the development. However, here is a dirty hack:

<P>

<H4><A ID="SECTION007500100000000000000">
Preparation Step:</A>
</H4> You <SPAN  CLASS="textbf">need to create a backup of your existing installation first</SPAN>, at least everything from <SPAN  CLASS="textbf">/var/spool/news/wendzelnntpd</SPAN> as you will need all these files later. <SPAN  CLASS="textbf">Perform the following steps on your own risk &ndash; it is possible that they do not work on your system as only two WendzelNNTPd installations were tested!</SPAN>

<P>

<H4><A ID="SECTION007500200000000000000">
First Step:</A>
</H4> Install Wendzelnntpd-2.x on a Linux system (Windows is not supported anymore). This requires some libraries and tools.

<P>
Under <SPAN  CLASS="textit">Ubuntu</SPAN> they all come as packages:
<PRE>
$ sudo apt-get install libmysqlclient-dev libsqlite3-dev flex bison sqlite3
</PRE>

<P>
Under <SPAN  CLASS="textit">CentOS</SPAN> they come as packages as well:
<PRE>
$ sudo yum install make gcc bison flex sqlite-devel
</PRE>

<P>
<SPAN  CLASS="textit">Other</SPAN> operating systems should provide the same or similar packages/ports.

<P>
Run <SPAN  CLASS="textbf">MYSQL=NO ./configure</SPAN>, followed by <SPAN  CLASS="textbf">make</SPAN>, and <SPAN  CLASS="textbf">sudo make install</SPAN>. This will compile, build and install WendzelNNTPd without MySQL support as you only rely on SQLite3 from v.1.4.x (and it would be significantly more difficult to bring the SQLite database content to a MySQL database).

<P>

<H4><A ID="SECTION007500300000000000000">
Second Step:</A>
</H4> Please make sure WendzelNNTPd-2 is configured in a way that we can *hopefully* make it work with your own database file. Therefore, in the configuration file <SPAN  CLASS="textbf">/usr/local/etc/wendzelnntpd.conf</SPAN> make sure that WendzelNNTPd uses sqlite3 instead of mysql:

<P>
<PRE>
database-engine sqlite3
</PRE>

<P>

<H4><A ID="SECTION007500400000000000000">
Third Step:</A>
</H4>
Now comes the tricky part. The install command should have created
<SPAN  CLASS="textbf">/var/spool/news/wendzelnntpd/usenet.db</SPAN>.
However, it is an empty usenet database file in the new format.
Now REPLACE that file with the file you use on your existing WendzelNNTPd installation, which uses the old 1.4.x format. Also copy all of your old <SPAN  CLASS="textbf">cdp*</SPAN> files and the old <SPAN  CLASS="textbf">nextmsgid</SPAN> file from your Windows system/from your backup directory to <SPAN  CLASS="textbf">/var/spool/news/wendzelnntpd/</SPAN>.

<P>
The following step is a very dirty hack but I hope it works for you. It is not 100% perfect as important table columns are then still of the type 'STRING' instead of the type 'TEXT'!

<P>
Load the sqlite3 tool with your replaced database file:

<P>
<PRE>
$ sudo sqlite3 /var/spool/news/wendzelnntpd/usenet.db
</PRE>

<P>
This will open the new file in editing mode. We now add the tables which are not part of v.1.4.x to your existing database file. Therefore enter the following commands:

<P>
<PRE>
CREATE TABLE roles (role TEXT PRIMARY KEY);
CREATE TABLE users2roles (username TEXT, role TEXT, PRIMARY KEY(username, role));
CREATE TABLE acl_users (username TEXT, ng TEXT, PRIMARY KEY(username, ng));
CREATE TABLE acl_roles (role TEXT, ng TEXT, PRIMARY KEY(role, ng));
.quit
</PRE>

<P>

<H4><A ID="SECTION007500500000000000000">
Fix Postings</A>
</H4>

<P>
You will probably see no post bodies right now if posts are requested by your client. Therefore, switch into <SPAN  CLASS="textbf">/var/spool/news/wendzelnntpd</SPAN> and run (as superuser) this command, it will replace the broken trailings with corrected ones:

<P>
<PRE>
$ cd /var/spool/news/wendzelnntpd
$ for filn in `/bin/ls cdp*`; do echo $filn; cat $filn | \
sed 's/\.\r/.\r\n/' &gt; new;  num=`wc -l new| \
awk '{$minone=$1-1; print $minone}'` ; \
head -n $num new &gt; $filn; done
$
</PRE>

<P>

<H4><A ID="SECTION007500600000000000000">
Last Step (Checking whether it works!):</A>
</H4>

<P>
First check, whether the database file is accepted at all:

<P>
<PRE>
$ sudo wendzelnntpadm listgroups
</PRE>

<P>
It should list all your newsgroups

<P>
<PRE>
$ sudo wendzelnntpadm listusers
</PRE>

<P>
It should list all existing users. Accordingly

<P>
<PRE>
$ sudo wendzelnntpadm listacl
</PRE>

<P>
should list all access control entries (which will be empty right now but if no error message appears, the related tables are now part of your database file!).

<P>
&nbsp;

<P>
Now start WendzelNNTPd via <SPAN  CLASS="textbf">sudo wendzelnntpd</SPAN> and try to connect with a NNTP client to your WendzelNNTPd and then try reading posts, sending new posts and replying to these posts.

<P>
If this works, you can now run v2.x on 32bit and 64bit Linux :) Congrats, you made it and chances are you are the second user who did that. Let me know via e-mail if it worked for you.

<P>

<BR>

<H2><A ID="SECTION008000000000000000000">
Index</A>
</H2><DL COMPACT>
<DT><STRONG>Configuration</STRONG>
<DD><A HREF="docs.html#203"><SPAN CLASS="arabic">3</SPAN> Basic Configuration</A>
<DT><STRONG>Development</STRONG>
<DD><A HREF="docs.html#648"><SPAN CLASS="arabic">5</SPAN> Development</A>
<DT><STRONG>Installation</STRONG>
<DD><A HREF="docs.html#97"><SPAN CLASS="arabic">2</SPAN> Installation</A>
<DT><STRONG>Introduction</STRONG>
<DD><A HREF="docs.html#42"><SPAN CLASS="arabic">1</SPAN> Introduction</A>
<DT><STRONG>Restarting WendzelNNTPd</STRONG>
<DD><A HREF="docs.html#379"><SPAN CLASS="arabic">2</SPAN> Stopping and Restarting the</A>
<DT><STRONG>Starting WendzelNNTPd</STRONG>
<DD><A HREF="docs.html#369"><SPAN CLASS="arabic">4</SPAN> Starting and Running WendzelNNTPd</A>
 | <A HREF="docs.html#371"><SPAN CLASS="arabic">1</SPAN> Starting the Service</A>
<DT><STRONG>Stopping WendzelNNTPd</STRONG>
<DD><A HREF="docs.html#378"><SPAN CLASS="arabic">2</SPAN> Stopping and Restarting the</A>
<DT><STRONG>Upgrade</STRONG>
<DD><A HREF="docs.html#666"><SPAN CLASS="arabic">6</SPAN> Upgrading</A>

</DL>
<P>

<H1><A ID="SECTION009000000000000000000">
About this document ...</A>
</H1>
 <STRONG>WendzelNNTPd Version 2.2 Documentation</STRONG><P>
This document was generated using the
<A HREF="http://www.latex2html.org/">LaTeX2HTML</A> translator Version 2023 (Released January 1, 2023)
<P>
The command line arguments were: <BR>
 <kbd>latex2html -show_section_numbers -local_icons -split 2 docs.tex</kbd>
<P>
The translation was initiated on 2025-07-23
<BR><HR>
<!--Table of Child-Links-->
<A ID="CHILD_LINKS"></A>

<UL CLASS="ChildLinks">
<LI><A ID="tex2html4"
  HREF="docs.html#SECTION001000000000000000000">Contents</A>
<LI><A ID="tex2html5"
  HREF="docs.html#SECTION002000000000000000000"><SPAN CLASS="arabic">1</SPAN> Introduction</A>
<UL>
<LI><A ID="tex2html6"
  HREF="docs.html#SECTION002100000000000000000"><SPAN CLASS="arabic">1</SPAN> Features</A>
<UL>
<LI><A ID="tex2html7"
  HREF="docs.html#SECTION002110000000000000000"><SPAN CLASS="arabic">1</SPAN> License</A>
<LI><A ID="tex2html8"
  HREF="docs.html#SECTION002120000000000000000"><SPAN CLASS="arabic">2</SPAN> Database Abstraction Layer</A>
<LI><A ID="tex2html9"
  HREF="docs.html#SECTION002130000000000000000"><SPAN CLASS="arabic">3</SPAN> Security</A>
<LI><A ID="tex2html10"
  HREF="docs.html#SECTION002140000000000000000"><SPAN CLASS="arabic">4</SPAN> Auto-prevention of double-postings</A>
<LI><A ID="tex2html11"
  HREF="docs.html#SECTION002150000000000000000"><SPAN CLASS="arabic">5</SPAN> IPv6</A>
<LI><A ID="tex2html12"
  HREF="docs.html#SECTION002160000000000000000"><SPAN CLASS="arabic">6</SPAN> Why this is not a perfect Usenet server</A>
</UL>
<LI><A ID="tex2html13"
  HREF="docs.html#SECTION002200000000000000000"><SPAN CLASS="arabic">2</SPAN> Contribute</A>
<LI><A ID="tex2html14"
  HREF="docs.html#SECTION002300000000000000000"><SPAN CLASS="arabic">3</SPAN> History</A>
</UL>
<BR>
<LI><A ID="tex2html15"
  HREF="docs.html#SECTION003000000000000000000"><SPAN CLASS="arabic">2</SPAN> Installation</A>
<UL>
<LI><A ID="tex2html16"
  HREF="docs.html#SECTION003100000000000000000"><SPAN CLASS="arabic">1</SPAN> Linux/*nix/BSD</A>
<UL>
<LI><A ID="tex2html17"
  HREF="docs.html#SECTION003110000000000000000"><SPAN CLASS="arabic">1</SPAN> Init Script for Automatic Startup</A>
</UL>
<LI><A ID="tex2html18"
  HREF="docs.html#SECTION003200000000000000000"><SPAN CLASS="arabic">2</SPAN> Unofficial Note: Mac OS X</A>
<LI><A ID="tex2html19"
  HREF="docs.html#SECTION003300000000000000000"><SPAN CLASS="arabic">3</SPAN> Windows</A>
</UL>
<BR>
<LI><A ID="tex2html20"
  HREF="docs.html#SECTION004000000000000000000"><SPAN CLASS="arabic">3</SPAN> Basic Configuration</A>
<UL>
<LI><A ID="tex2html21"
  HREF="docs.html#SECTION004100000000000000000"><SPAN CLASS="arabic">1</SPAN> Choosing a database engine</A>
<UL>
<LI><A ID="tex2html22"
  HREF="docs.html#SECTION004110000000000000000"><SPAN CLASS="arabic">1</SPAN> Modifying wendzelnntpd.conf</A>
<LI><A ID="tex2html23"
  HREF="docs.html#SECTION004120000000000000000"><SPAN CLASS="arabic">2</SPAN> Generating your database tables</A>
<UL>
<LI><A ID="tex2html24"
  HREF="docs.html#SECTION004121000000000000000"><SPAN CLASS="arabic">1</SPAN> SQLite</A>
<LI><A ID="tex2html25"
  HREF="docs.html#SECTION004122000000000000000"><SPAN CLASS="arabic">2</SPAN> MySQL</A>
<LI><A ID="tex2html26"
  HREF="docs.html#SECTION004123000000000000000"><SPAN CLASS="arabic">3</SPAN> PostgreSQL</A>
</UL>
</UL>
<LI><A ID="tex2html27"
  HREF="docs.html#SECTION004200000000000000000"><SPAN CLASS="arabic">2</SPAN> Network Settings</A>
<LI><A ID="tex2html28"
  HREF="docs.html#SECTION004300000000000000000"><SPAN CLASS="arabic">3</SPAN> Setting the Allowed Size of Postings</A>
<LI><A ID="tex2html29"
  HREF="docs.html#SECTION004400000000000000000"><SPAN CLASS="arabic">4</SPAN> Verbose Mode</A>
<LI><A ID="tex2html30"
  HREF="docs.html#SECTION004500000000000000000"><SPAN CLASS="arabic">5</SPAN> Security Settings</A>
<UL>
<LI><A ID="tex2html31"
  HREF="docs.html#SECTION004510000000000000000"><SPAN CLASS="arabic">1</SPAN> Authentication and Access Control Lists (ACL)</A>
<LI><A ID="tex2html32"
  HREF="docs.html#SECTION004520000000000000000"><SPAN CLASS="arabic">2</SPAN> Anonymized Message-ID</A>
<LI><A ID="tex2html33"
  HREF="docs.html#SECTION004530000000000000000"><SPAN CLASS="arabic">3</SPAN> Changing the Default Salt for Password Hashing</A>
<LI><A ID="tex2html34"
  HREF="docs.html#SECTION004540000000000000000"><SPAN CLASS="arabic">4</SPAN> Encrypted communication (TLS)</A>
</UL>
</UL>
<BR>
<LI><A ID="tex2html35"
  HREF="docs.html#SECTION005000000000000000000"><SPAN CLASS="arabic">4</SPAN> Starting and Running WendzelNNTPd</A>
<UL>
<LI><A ID="tex2html36"
  HREF="docs.html#SECTION005100000000000000000"><SPAN CLASS="arabic">1</SPAN> Starting the Service</A>
<LI><A ID="tex2html37"
  HREF="docs.html#SECTION005200000000000000000"><SPAN CLASS="arabic">2</SPAN> Stopping and Restarting the Service</A>
<UL>
<LI><A ID="tex2html38"
  HREF="docs.html#SECTION005210000000000000000"><SPAN CLASS="arabic">1</SPAN> Automating Start, Stop, and Restart</A>
</UL>
<LI><A ID="tex2html39"
  HREF="docs.html#SECTION005300000000000000000"><SPAN CLASS="arabic">3</SPAN> Administration Tool `wendzelnntpadm'</A>
<LI><A ID="tex2html40"
  HREF="docs.html#SECTION005400000000000000000"><SPAN CLASS="arabic">4</SPAN> Creating/Listing/Deleting Newsgroups</A>
<UL>
<LI><A ID="tex2html41"
  HREF="docs.html#SECTION005410000000000000000"><SPAN CLASS="arabic">1</SPAN> Listing existing newsgroups</A>
<LI><A ID="tex2html42"
  HREF="docs.html#SECTION005420000000000000000"><SPAN CLASS="arabic">2</SPAN> Creating a new newsgroup</A>
<LI><A ID="tex2html43"
  HREF="docs.html#SECTION005430000000000000000"><SPAN CLASS="arabic">3</SPAN> Deleting a newsgroup</A>
</UL>
<LI><A ID="tex2html44"
  HREF="docs.html#SECTION005500000000000000000"><SPAN CLASS="arabic">5</SPAN> User Accounts Administration</A>
<UL>
<LI><A ID="tex2html45"
  HREF="docs.html#SECTION005510000000000000000"><SPAN CLASS="arabic">1</SPAN> Listing Users (and Passwords)</A>
<LI><A ID="tex2html46"
  HREF="docs.html#SECTION005520000000000000000"><SPAN CLASS="arabic">2</SPAN> Creating a new user</A>
<LI><A ID="tex2html47"
  HREF="docs.html#SECTION005530000000000000000"><SPAN CLASS="arabic">3</SPAN> Deleting an existing user</A>
</UL>
<LI><A ID="tex2html48"
  HREF="docs.html#SECTION005600000000000000000"><SPAN CLASS="arabic">6</SPAN> Access Control List Administration (in case the standard NNTP authentication is not enough)</A>
<UL>
<LI><A ID="tex2html49"
  HREF="docs.html#SECTION005610000000000000000"><SPAN CLASS="arabic">1</SPAN> Invisible Newsgroups</A>
<LI><A ID="tex2html50"
  HREF="docs.html#SECTION005620000000000000000"><SPAN CLASS="arabic">2</SPAN> Simple Access Control</A>
<UL>
<LI><A ID="tex2html51"
  HREF="docs.html#SECTION005621000000000000000"><SPAN CLASS="arabic">1</SPAN> Giving a user access to a newsgroup</A>
<LI><A ID="tex2html52"
  HREF="docs.html#SECTION005622000000000000000"><SPAN CLASS="arabic">2</SPAN> Removing a user's access to a newsgroup</A>
</UL>
<LI><A ID="tex2html53"
  HREF="docs.html#SECTION005630000000000000000"><SPAN CLASS="arabic">3</SPAN> Adding and Removing ACL Roles</A>
<UL>
<LI><A ID="tex2html54"
  HREF="docs.html#SECTION005631000000000000000"><SPAN CLASS="arabic">1</SPAN> Creating an ACL Role</A>
<LI><A ID="tex2html55"
  HREF="docs.html#SECTION005632000000000000000"><SPAN CLASS="arabic">2</SPAN> Deleting an ACL Role</A>
</UL>
<LI><A ID="tex2html56"
  HREF="docs.html#SECTION005640000000000000000"><SPAN CLASS="arabic">4</SPAN> Connecting and Disconnecting Users with/from Roles</A>
<UL>
<LI><A ID="tex2html57"
  HREF="docs.html#SECTION005641000000000000000"><SPAN CLASS="arabic">1</SPAN> Connecting a User with a Role</A>
<LI><A ID="tex2html58"
  HREF="docs.html#SECTION005642000000000000000"><SPAN CLASS="arabic">2</SPAN> Disconnecting a User from a Role</A>
</UL>
<LI><A ID="tex2html59"
  HREF="docs.html#SECTION005650000000000000000"><SPAN CLASS="arabic">5</SPAN> Connecting and Disconnecting Roles with/from Newsgroups</A>
<UL>
<LI><A ID="tex2html60"
  HREF="docs.html#SECTION005651000000000000000"><SPAN CLASS="arabic">1</SPAN> Connecting a Role with a Newsgroup</A>
<LI><A ID="tex2html61"
  HREF="docs.html#SECTION005652000000000000000"><SPAN CLASS="arabic">2</SPAN> Disconnecting a Role From a Newsgroup</A>
</UL>
<LI><A ID="tex2html62"
  HREF="docs.html#SECTION005660000000000000000"><SPAN CLASS="arabic">6</SPAN> Listing Your Whole ACL Configuration Again</A>
<UL>
<LI><A ID="tex2html63"
  HREF="docs.html#SECTION005661000000000000000"><SPAN CLASS="arabic">1</SPAN> Saving time</A>
</UL>
</UL>
<LI><A ID="tex2html64"
  HREF="docs.html#SECTION005700000000000000000"><SPAN CLASS="arabic">7</SPAN> Hardening</A>
</UL>
<BR>
<LI><A ID="tex2html65"
  HREF="docs.html#SECTION006000000000000000000"><SPAN CLASS="arabic">5</SPAN> Development</A>
<UL>
<LI><A ID="tex2html66"
  HREF="docs.html#SECTION006010000000000000000"><SPAN CLASS="arabic">1</SPAN> Initial setup</A>
<LI><A ID="tex2html67"
  HREF="docs.html#SECTION006020000000000000000"><SPAN CLASS="arabic">2</SPAN> Test new code</A>
</UL>
<BR>
<LI><A ID="tex2html68"
  HREF="docs.html#SECTION007000000000000000000"><SPAN CLASS="arabic">6</SPAN> Upgrading</A>
<UL>
<LI><A ID="tex2html69"
  HREF="docs.html#SECTION007100000000000000000"><SPAN CLASS="arabic">1</SPAN> Upgrade fom version 2.1.y to 2.2.x</A>
<LI><A ID="tex2html70"
  HREF="docs.html#SECTION007200000000000000000"><SPAN CLASS="arabic">2</SPAN> Upgrade from version 2.1.x to 2.1.y</A>
<LI><A ID="tex2html71"
  HREF="docs.html#SECTION007300000000000000000"><SPAN CLASS="arabic">3</SPAN> Upgrade from version 2.0.x to 2.1.y</A>
<LI><A ID="tex2html72"
  HREF="docs.html#SECTION007400000000000000000"><SPAN CLASS="arabic">4</SPAN> Upgrade from version 2.0.x to 2.0.y</A>
<LI><A ID="tex2html73"
  HREF="docs.html#SECTION007500000000000000000"><SPAN CLASS="arabic">5</SPAN> Upgrade from version 1.4.x to 2.0.x</A>
</UL>
<BR>
<LI><A ID="tex2html74"
  HREF="docs.html#SECTION008000000000000000000">Index</A>
<LI><A ID="tex2html75"
  HREF="docs.html#SECTION009000000000000000000">About this document ...</A>
</UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<IMG WIDTH="81" HEIGHT="24" ALT="next_inactive" SRC="nx_grp_g.png"> 
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up_g.png"> 
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev_g.png">   
<BR></DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
